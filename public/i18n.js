// i18n.js
export const LANG_KEY = "moyu_lang";
export const DEFAULT_LANG = "zh";

export const translations = {
  zh: {
    common: {
      appName: "MÅyu Club",
      backHome: "å›ä¸»ç•«é¢",
      logout: "ç™»å‡ºå¸³è™Ÿ",
      settings: "å¸³æˆ¶è¨­å®š",
    },
    login: {
      pageTitle: "MÅyu Club - ç™»å…¥",
      title: "MÅyu æ‘¸é­š",
      subtitle: "ç™»å…¥å¾Œï¼Œç³»çµ±æœƒå¹«ä½ æ‰¾åˆ°ä»Šå¤©çš„æ‘¸é­šå¤¥ä¼´ã€‚",
      emailLabel: "Email",
      passwordLabel: "å¯†ç¢¼",
      emailLoginBtn: "ä½¿ç”¨ Email ç™»å…¥",
      forgot: "å¿˜è¨˜å¯†ç¢¼ï¼Ÿ",
      signup: "è¨»å†Šæ–°å¸³è™Ÿ",
      orText: "æˆ– ä½¿ç”¨ Google ç™»å…¥",
      googleBtn: "ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥",
      loggingIn: "ç™»å…¥ä¸­ï¼Œè«‹ç¨å€™â€¦",
      loginFailed: "ç™»å…¥å¤±æ•—ï¼š",
      needVerify:
        "Email å°šæœªé©—è­‰ï¼Œè«‹å…ˆåˆ°ä¿¡ç®±é»æ“Šé©—è­‰é€£çµå†é‡æ–°ç™»å…¥ã€‚",
      loadingUser: "è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™ä¸­â€¦",
      emptyEmailPw: "è«‹è¼¸å…¥ Email èˆ‡å¯†ç¢¼",
    },
    signup: {
    pageTitle: "Moyu Club - è¨»å†Š",
    title: "è¨»å†Š Moyu å¸³è™Ÿ",
    subtitle: "å®Œæˆä¿¡ç®±é©—è­‰å¾Œï¼Œå°±èƒ½é–‹å§‹æ‘¸é­šé…å°",
    emailLabel: "Email",
    passwordLabel: "å¯†ç¢¼ï¼ˆè‡³å°‘ 6 å­—ï¼‰",
    passwordConfirmLabel: "å†æ¬¡è¼¸å…¥å¯†ç¢¼",
    submitBtn: "å»ºç«‹å¸³è™Ÿä¸¦å¯„å‡ºé©—è­‰ä¿¡",
    backToLogin: "å·²æœ‰å¸³è™Ÿï¼Ÿè¿”å›ç™»å…¥",
    fillAllFields: "è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½",
    passwordNotMatch: "å…©æ¬¡å¯†ç¢¼ä¸ä¸€è‡´",
    passwordTooShort: "å¯†ç¢¼è‡³å°‘éœ€ 6 å­—",
    creating: "å»ºç«‹å¸³è™Ÿä¸­...",
    success: "è¨»å†ŠæˆåŠŸï¼è«‹åˆ° Email æ”¶ä¿¡å®Œæˆé©—è­‰å†ç™»å…¥ã€‚",
    failedPrefix: "è¨»å†Šå¤±æ•—ï¼š",
    },
    reset: {
    pageTitle: "MÅyu Club - é‡è¨­å¯†ç¢¼",
    title: "é‡è¨­å¯†ç¢¼ ğŸ”‘",
    subtitle: "è¼¸å…¥ä½ çš„ Emailï¼Œæˆ‘å€‘æœƒå¯„å‡ºé‡è¨­å¯†ç¢¼çš„ä¿¡ä»¶ã€‚",
    emailLabel: "ç™»å…¥ Email",
    emailPlaceholder: "è«‹è¼¸å…¥ä½ çš„ Email",
    submitBtn: "å¯„é€é‡è¨­å¯†ç¢¼ä¿¡",
    backToLogin: "è¿”å›ç™»å…¥é ",
    emptyEmail: "è«‹å…ˆè¼¸å…¥ Email",
    sending: "å¯„é€é‡è¨­å¯†ç¢¼ä¿¡ä»¶ä¸­â€¦",
    success: "å·²å¯„å‡ºé‡è¨­å¯†ç¢¼ä¿¡ä»¶ï¼Œè«‹åˆ°ä¿¡ç®±æ”¶ä¿¡ã€‚",
    failedPrefix: "é‡è¨­å¯†ç¢¼å¤±æ•—ï¼š",
    },
    nickname: {
      pageTitle: "MÅyu Club - è¨­å®šæš±ç¨±",
      title: "å¹«ä½ çš„é­šå–å€‹åå­—",
      subtitle:
        "é€™å€‹æš±ç¨±æœƒå‡ºç¾åœ¨é…å°æˆåŠŸæé†’èˆ‡èŠå¤©å®¤ä¸­ï¼Œä¹‹å¾Œå¯ä»¥åœ¨å¸³æˆ¶è¨­å®šè£¡ä¿®æ”¹ã€‚",
      label: "èŠå¤©é¡¯ç¤ºæš±ç¨±",
      placeholder: "ä¾‹å¦‚ï¼šæ³¡æ³¡é­šã€åŠ ç­é¯–é­š",
      hint: "æš±ç¨±ä¸èƒ½ç‚ºç©ºç™½ï¼Œä¹‹å¾Œå¯ä»¥å¾å¸³æˆ¶è¨­å®šé ä¿®æ”¹ã€‚",
      saveBtn: "é–‹å§‹æ‘¸é­š",
      saving: "å„²å­˜ä¸­ï¼Œè«‹ç¨å€™â€¦",
      saved: "æš±ç¨±å·²å„²å­˜ï¼Œæº–å‚™é€²å…¥ä¸»ç•«é¢ã€‚",
      empty: "æš±ç¨±ä¸èƒ½ç‚ºç©ºç™½ã€‚",
      errorPrefix: "å„²å­˜å¤±æ•—ï¼š",
    },    
    home: {
      pageTitle: "MÅyu Club - ä¸»ç•«é¢",
      appTitle: "MÅyu Club ğŸŸ",
      appSubtitle: "åªè®“çœŸæ­£æ‡‚ã€Œé­šçš„å¿«æ¨‚ã€çš„äººï¼Œé‡è¦‹å½¼æ­¤ã€‚",
      hiLabel: "å—¨ï¼Œ",
      settingsLabel: "è¨­å®š",
      statusSectionTitle: "ç›®å‰ç‹€æ…‹",
      statusLoading: "æ­£åœ¨æª¢æŸ¥ç™»å…¥ç‹€æ…‹...",
      statusIdle: "ä½ ç¾åœ¨å¯ä»¥é–‹å§‹æ‘¸é­šé…å°ã€‚",
      matchSectionTitle: "éš¨æ©Ÿæ‘¸é­šé…å°",
      matchSectionDesc:
        "æŒ‰ä¸‹é–‹å§‹ä¹‹å¾Œï¼Œæˆ‘å€‘æœƒå¹«ä½ æ‰¾ä¸€éš»åŒæ¨£æƒ³å·æ‡¶çš„é­šã€‚é…å°æˆåŠŸå¾Œæœ‰ 5 ç§’æ™‚é–“å¯ä»¥èŠå¤©ï¼Œå†æ±ºå®šè¦ä¸è¦ä¿ç•™é€™æ®µç·£åˆ†ã€‚",
      savedSectionTitle: "å·²ä¿ç•™çš„æ‘¸é­šç·£åˆ†",
      savedSectionDesc:
        "ç•¶é›™æ–¹éƒ½æŒ‰ä¸‹ã€Œä¿ç•™é€™æ®µç·£åˆ†ã€æ™‚ï¼Œä½ å€‘æœƒå‡ºç¾åœ¨é€™è£¡ã€‚é»ä¸€ä¸‹å°±èƒ½å†æ¬¡å·é–’èŠå¤©ã€‚",
      savedEmpty: "ç›®å‰é‚„æ²’æœ‰ä¿ç•™çš„å°è©±ã€‚",
      savedLoading: "è¼‰å…¥ä¸­...",
      savedAgain: "å†æ¬¡æ‘¸é­š",
      startMatching: "é–‹å§‹æ‘¸é­šé…å°",
      matching: "ğŸ£ æ­£åœ¨å°‹æ‰¾å¦ä¸€éš»é­š...",
      chatRoomLabel: "æ‘¸é­šé…å°èŠå¤©å®¤",
      chatNotMatched: "å°šæœªé…å°",
      chatPlaceholder: "é…å°æˆåŠŸå¾Œï¼Œé€™è£¡æœƒå‡ºç¾ä½ å€‘çš„å°è©±ã€‚",
      sendButton: "é€å‡º",
      forceEndButton: "çµæŸå°è©±",
      keepQuestion: "æ™‚é–“åˆ°äº†ï¼Œè¦ä¿ç•™é€™æ®µæ‘¸é­šç·£åˆ†å—ï¼Ÿ",
      keepButton: "ä¿ç•™é€™æ®µç·£åˆ†",
      endButton: "çµæŸä¸¦è¿”å›ä¸»ç•«é¢",
      keepHintPartner:
        "å°æ–¹æƒ³ä¿ç•™é€™æ®µç·£åˆ†ï¼Œå¦‚æœä½ ä¹ŸæŒ‰ä¸‹ï¼Œå°±æœƒä¸€èµ·è¢«æ”¶è—ã€‚",
      keepSuccess: "é€™æ®µç·£åˆ†å·²è¢«ä¿ç•™ï¼Œå¯ä»¥ç¹¼çºŒèŠå¤© âœ¨",
      chatEnded: "å°è©±å·²çµæŸï¼Œå¯ä»¥é‡æ–°é…å°æˆ–æ‰¾å·²ä¿ç•™ç·£åˆ†ã€‚",
      timeUp: "æ™‚é–“åˆ°äº†ï¼Œè«‹é¸æ“‡æ˜¯å¦è¦ä¿ç•™é€™æ®µç·£åˆ†ã€‚",
    },
    settings: {
      pageTitle: "MÅyu Club - å¸³æˆ¶è¨­å®š",
      title: "å¸³æˆ¶è¨­å®š âš™ï¸",
      subtitle: "ç®¡ç†ä½ çš„ç™»å…¥ä¿¡ç®±ã€æš±ç¨±ã€èªè¨€èˆ‡ä¹‹å¾Œçš„æ“´å……åŠŸèƒ½ã€‚",
      emailSectionTitle: "ç™»å…¥ä¿¡ç®±",
      emailLabel: "Email",
      emailChecking: "æª¢æŸ¥ä¸­",
      emailVerified: "å·²é©—è­‰",
      emailUnverified: "å°šæœªé©—è­‰",
      resendBtn: "é‡æ–°å¯„é€é©—è­‰ä¿¡",
      nicknameSectionTitle: "æš±ç¨±è¨­å®š",
      nicknameLabel: "é¡¯ç¤ºæš±ç¨±ï¼ˆèŠå¤©æ™‚é¡¯ç¤ºçš„åå­—ï¼‰",
      nicknamePlaceholder: "è¼¸å…¥ä½ çš„æš±ç¨±",
      langSectionTitle: "èªè¨€è¨­å®š",
      langLabel: "ä»‹é¢èªè¨€",
      saveProfile: "å„²å­˜è¨­å®š",
      otherSectionTitle: "å…¶ä»–è¨­å®šï¼ˆé ç•™ï¼‰",
      otherDesc:
        "æœªä¾†å¯ä»¥åœ¨é€™è£¡åŠ å…¥ï¼šæ›´æ”¹å¯†ç¢¼ã€é€šçŸ¥è¨­å®šã€ä»˜è²»æ–¹æ¡ˆã€é»‘åå–®ç®¡ç†â‹¯",
      logoutBtn: "ç™»å‡ºå¸³è™Ÿ",
      msgLoadError: "è¼‰å…¥å¸³æˆ¶è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼š",
      msgProfileSaved: "è¨­å®šå·²æ›´æ–° âœ…",
      msgLangSaved: "èªè¨€å·²æ›´æ–° âœ…",
      alertNicknameEmpty: "æš±ç¨±ä¸å¯ç‚ºç©ºç™½",
      alertNeedLogin: "ç™»å…¥ç‹€æ…‹å·²å¤±æ•ˆï¼Œè«‹é‡æ–°ç™»å…¥",
      alertVerifySent: "å·²å¯„å‡ºé©—è­‰ Emailï¼Œè«‹åˆ°ä¿¡ç®±æ”¶ä¿¡",
      alertVerifyFail: "å¯„é€é©—è­‰ä¿¡å¤±æ•—ï¼š",
      alertLogoutFail: "ç™»å‡ºå¤±æ•—ï¼š",
      alertNotLoggedIn: "å°šæœªç™»å…¥ï¼Œå°‡è¿”å›ç™»å…¥é é¢",
    },
  },

  en: {
    common: {
      appName: "MÅyu Club",
      backHome: "Back to Home",
      logout: "Log out",
      settings: "Account Settings",
    },
    login: {
      pageTitle: "MÅyu Club - Login",
      title: "MÅyu",
      subtitle:
        "Sign in and we'll find today's slacking partner for you.",
      emailLabel: "Email",
      passwordLabel: "Password",
      emailLoginBtn: "Sign in with Email",
      forgot: "Forgot password?",
      signup: "Create a new account",
      orText: "or Sign in with Google",
      googleBtn: "Sign in with Google",
      loggingIn: "Signing in, please waitâ€¦",
      loginFailed: "Login failed: ",
      needVerify:
        "Email is not verified yet. Please check your inbox and click the verification link.",
      loadingUser: "Loading user profileâ€¦",
      emptyEmailPw: "Please input Email and password",
    },
    signup: {
    pageTitle: "Moyu Club - Sign Up",
    title: "Create your Moyu account",
    subtitle: "Verify your email and start matching",
    emailLabel: "Email",
    passwordLabel: "Password (at least 6 characters)",
    passwordConfirmLabel: "Confirm password",
    submitBtn: "Create account and send verification email",
    backToLogin: "Already have an account? Back to login",
    fillAllFields: "Please fill in all fields.",
    passwordNotMatch: "Passwords do not match.",
    passwordTooShort: "Password must be at least 6 characters.",
    creating: "Creating your account...",
    success: "Signed up successfully! Please check your email and verify before login.",
    failedPrefix: "Sign up failed: ",
    },
    reset: {
    pageTitle: "MÅyu Club - Reset Password",
    title: "Reset your password ğŸ”‘",
    subtitle: "Enter your email and we'll send you a reset link.",
    emailLabel: "Login Email",
    emailPlaceholder: "Enter your email",
    submitBtn: "Send reset link",
    backToLogin: "Back to login",
    emptyEmail: "Please enter your email.",
    sending: "Sending password reset emailâ€¦",
    success: "Password reset email sent. Please check your inbox.",
    failedPrefix: "Reset failed: ",
    },
    nickname: {
      pageTitle: "MÅyu Club - Nickname",
      title: "Give your fish a name",
      subtitle:
        "This nickname appears in match notifications and chats. You can change it later in Account Settings.",
      label: "Display nickname",
      placeholder: "e.g. Bubble Fish, Overtime Mackerel",
      hint: "Nickname cannot be empty. You can change it later.",
      saveBtn: "Start slacking",
      saving: "Saving, please waitâ€¦",
      saved: "Nickname saved. Redirecting to home.",
      empty: "Nickname cannot be empty.",
      errorPrefix: "Save failed: ",
    },
    home: {
      pageTitle: "MÅyu Club - Home",
      appTitle: "MÅyu Club ğŸŸ",
      appSubtitle:
        "Only those who truly understand the joy of slacking can meet each other here.",
      hiLabel: "Hi, ",
      settingsLabel: "Settings",
      statusSectionTitle: "Current Status",
      statusLoading: "Checking login status...",
      statusIdle: "You can start a new random match now.",
      matchSectionTitle: "Random Moyu Match",
      matchSectionDesc:
        "Click start and we'll find another fish who wants to slack off. You have 5 seconds to chat, then decide whether to keep this connection.",
      savedSectionTitle: "Saved Connections",
      savedSectionDesc:
        "When you both tap â€œkeep this connectionâ€, you'll appear here. Tap to chat again anytime.",
      savedEmpty: "No saved conversations yet.",
      savedLoading: "Loading...",
      savedAgain: "Chat again",
      startMatching: "Start random match",
      matching: "ğŸ£ Searching for another fish...",
      chatRoomLabel: "Moyu Match Room",
      chatNotMatched: "No match yet",
      chatPlaceholder: "Once matched, your conversation will appear here.",
      sendButton: "Send",
      forceEndButton: "End chat",
      keepQuestion: "Time's up. Keep this connection?",
      keepButton: "Keep this connection",
      endButton: "End and go back",
      keepHintPartner:
        "Your partner wants to keep this connection. Tap keep as well to save it together.",
      keepSuccess: "Connection saved. You can keep chatting âœ¨",
      chatEnded:
        "Chat ended. You can start a new match or open a saved one.",
      timeUp: "Time's up. Decide whether to keep this connection.",
    },
    settings: {
      pageTitle: "MÅyu Club - Settings",
      title: "Account Settings âš™ï¸",
      subtitle:
        "Manage your login email, nickname, language, and future add-ons.",
      emailSectionTitle: "Login Email",
      emailLabel: "Email",
      emailChecking: "Checking",
      emailVerified: "Verified",
      emailUnverified: "Not verified",
      resendBtn: "Resend verification email",
      nicknameSectionTitle: "Nickname",
      nicknameLabel: "Display name (shown in chat)",
      nicknamePlaceholder: "Enter your nickname",
      langSectionTitle: "Language",
      langLabel: "Interface language",
      saveProfile: "Save settings",
      otherSectionTitle: "Other settings (reserved)",
      otherDesc:
        "In the future: change password, notification settings, paid plans, block list, etc.",
      logoutBtn: "Log out",
      msgLoadError: "Error loading account data: ",
      msgProfileSaved: "Settings updated âœ…",
      msgLangSaved: "Language updated âœ…",
      alertNicknameEmpty: "Nickname cannot be empty",
      alertNeedLogin: "Session expired. Please log in again.",
      alertVerifySent: "Verification email sent. Please check your inbox.",
      alertVerifyFail: "Failed to send verification email: ",
      alertLogoutFail: "Logout failed: ",
      alertNotLoggedIn: "Not logged in. Redirecting to login page.",
    },
  },
};

export function getCurrentLang() {
  return localStorage.getItem(LANG_KEY) || DEFAULT_LANG;
}

export function setCurrentLang(lang) {
  localStorage.setItem(LANG_KEY, lang);
}

export function t(page, key, ...args) {
  const lang = getCurrentLang();
  const pack = translations[lang] || translations[DEFAULT_LANG];
  const pagePack = pack[page] || {};
  const commonPack = pack.common || {};
  const val = pagePack[key] ?? commonPack[key];

  if (typeof val === "function") return val(...args);
  return val ?? key;
}
